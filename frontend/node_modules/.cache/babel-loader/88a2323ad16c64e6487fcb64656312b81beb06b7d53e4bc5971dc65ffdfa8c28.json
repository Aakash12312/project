{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,Link}from\"react-router-dom\";import\"./UserBlogs.css\";// Import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserBlogs=()=>{const{userId}=useParams();// Grab userId from URL\nconst[blogs,setBlogs]=useState([]);const[error,setError]=useState(null);useEffect(()=>{const fetchBlogs=async()=>{try{const response=await fetch(\"http://localhost:5000/blog/\".concat(userId,\"/blogs\"));const data=await response.json();if(data.blogs){setBlogs(data.blogs);}else{setError(data.message||\"No blogs found.\");}}catch(error){setError(error.message);}};fetchBlogs();},[userId]);if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"user-blogs-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Blogs\"}),blogs.length>0?blogs.map(blog=>/*#__PURE__*/_jsxs(\"div\",{className:\"blog-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:blog.title}),/*#__PURE__*/_jsx(\"p\",{children:blog.content.split(\"\\n\")[0]}),\" \",/*#__PURE__*/_jsx(\"p\",{children:blog.content.split(\"\\n\")[1]}),\" \",/*#__PURE__*/_jsxs(\"p\",{className:\"date\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Created At:\"}),\" \",new Date(blog.createdAt).toLocaleString()]}),/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(blog._id),style:{textDecoration:\"none\"},children:/*#__PURE__*/_jsx(\"button\",{children:\"Read More\"})})]},blog._id)):/*#__PURE__*/_jsx(\"p\",{className:\"loading-message\",children:\"Loading blogs...\"})]});};export default UserBlogs;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","jsx","_jsx","jsxs","_jsxs","UserBlogs","userId","blogs","setBlogs","error","setError","fetchBlogs","response","fetch","concat","data","json","message","className","children","length","map","blog","title","content","split","Date","createdAt","toLocaleString","to","_id","style","textDecoration"],"sources":["C:/Users/Aakash/OneDrive/Documents/MyApp/frontend/src/components/UserBlogs.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport \"./UserBlogs.css\"; // Import the CSS file\r\n\r\nconst UserBlogs = () => {\r\n  const { userId } = useParams(); // Grab userId from URL\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchBlogs = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/blog/${userId}/blogs`);\r\n        const data = await response.json();\r\n        if (data.blogs) {\r\n          setBlogs(data.blogs);\r\n        } else {\r\n          setError(data.message || \"No blogs found.\");\r\n        }\r\n      } catch (error) {\r\n        setError(error.message);\r\n      }\r\n    };\r\n\r\n    fetchBlogs();\r\n  }, [userId]);\r\n\r\n  if (error) {\r\n    return <p className=\"error-message\">{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-blogs-container\">\r\n      <h2>User Blogs</h2>\r\n      {blogs.length > 0 ? (\r\n        blogs.map((blog) => (\r\n          <div key={blog._id} className=\"blog-card\">\r\n            <h3>{blog.title}</h3>\r\n            <p>{blog.content.split(\"\\n\")[0]}</p> {/* Display only the first line */}\r\n            <p>{blog.content.split(\"\\n\")[1]}</p> {/* Display the second line */}\r\n            <p className=\"date\">\r\n              <strong>Created At:</strong> {new Date(blog.createdAt).toLocaleString()}\r\n            </p>\r\n            <Link to={`/blog/${blog._id}`} style={{ textDecoration: \"none\" }}>\r\n              <button>Read More</button>\r\n            </Link>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <p className=\"loading-message\">Loading blogs...</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserBlogs;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,MAAO,iBAAiB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAEC,MAAO,CAAC,CAAGP,SAAS,CAAC,CAAC,CAAE;AAChC,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,+BAAAC,MAAA,CAA+BR,MAAM,UAAQ,CAAC,CAC1E,KAAM,CAAAS,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClC,GAAID,IAAI,CAACR,KAAK,CAAE,CACdC,QAAQ,CAACO,IAAI,CAACR,KAAK,CAAC,CACtB,CAAC,IAAM,CACLG,QAAQ,CAACK,IAAI,CAACE,OAAO,EAAI,iBAAiB,CAAC,CAC7C,CACF,CAAE,MAAOR,KAAK,CAAE,CACdC,QAAQ,CAACD,KAAK,CAACQ,OAAO,CAAC,CACzB,CACF,CAAC,CAEDN,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACL,MAAM,CAAC,CAAC,CAEZ,GAAIG,KAAK,CAAE,CACT,mBAAOP,IAAA,MAAGgB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEV,KAAK,CAAI,CAAC,CACjD,CAEA,mBACEL,KAAA,QAAKc,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCjB,IAAA,OAAAiB,QAAA,CAAI,YAAU,CAAI,CAAC,CAClBZ,KAAK,CAACa,MAAM,CAAG,CAAC,CACfb,KAAK,CAACc,GAAG,CAAEC,IAAI,eACblB,KAAA,QAAoBc,SAAS,CAAC,WAAW,CAAAC,QAAA,eACvCjB,IAAA,OAAAiB,QAAA,CAAKG,IAAI,CAACC,KAAK,CAAK,CAAC,cACrBrB,IAAA,MAAAiB,QAAA,CAAIG,IAAI,CAACE,OAAO,CAACC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAI,CAAC,IAAC,cACrCvB,IAAA,MAAAiB,QAAA,CAAIG,IAAI,CAACE,OAAO,CAACC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAI,CAAC,IAAC,cACrCrB,KAAA,MAAGc,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBjB,IAAA,WAAAiB,QAAA,CAAQ,aAAW,CAAQ,CAAC,IAAC,CAAC,GAAI,CAAAO,IAAI,CAACJ,IAAI,CAACK,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,EACtE,CAAC,cACJ1B,IAAA,CAACF,IAAI,EAAC6B,EAAE,UAAAf,MAAA,CAAWQ,IAAI,CAACQ,GAAG,CAAG,CAACC,KAAK,CAAE,CAAEC,cAAc,CAAE,MAAO,CAAE,CAAAb,QAAA,cAC/DjB,IAAA,WAAAiB,QAAA,CAAQ,WAAS,CAAQ,CAAC,CACtB,CAAC,GATCG,IAAI,CAACQ,GAUV,CACN,CAAC,cAEF5B,IAAA,MAAGgB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,kBAAgB,CAAG,CACnD,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}