{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./YourBlogs.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const YourBlogs=()=>{const[blogs,setBlogs]=useState([]);const navigate=useNavigate();useEffect(()=>{fetch(\"http://localhost:5000/blog/yourBlogs\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"}).then(response=>{if(response.status===401){navigate(\"/login\");return null;}return response.json();}).then(data=>{if(data&&data.blogs){setBlogs(data.blogs);}else{alert(\"No blogs found.\");}}).catch(error=>{console.error(\"Error fetching user blogs:\",error);alert(\"Failed to load blogs. Please try again.\");});},[navigate]);const deleteBlog=id=>{if(window.confirm(\"Are you sure you want to delete this blog?\")){fetch(\"http://localhost:5000/blog/\".concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"}).then(response=>{if(response.ok){alert(\"Blog deleted successfully.\");setBlogs(blogs.filter(blog=>blog._id!==id));}else{alert(\"Failed to delete the blog.\");}}).catch(error=>console.error(\"Error deleting blog:\",error));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"your-blogs-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Blogs\"}),blogs.length>0?blogs.map(blog=>/*#__PURE__*/_jsxs(\"div\",{className:\"blog-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:blog.title}),/*#__PURE__*/_jsxs(\"p\",{children:[blog.content.substring(0,100),\"...\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/blog/\".concat(blog._id)),children:\"Read More\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/blog/editBlog/\".concat(blog._id)),className:\"update-btn\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteBlog(blog._id),className:\"delete-btn\",children:\"Delete\"})]},blog._id)):/*#__PURE__*/_jsx(\"p\",{children:\"You have not created any blogs yet.\"})]});};export default YourBlogs;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","YourBlogs","blogs","setBlogs","navigate","fetch","method","headers","credentials","then","response","status","json","data","alert","catch","error","console","deleteBlog","id","window","confirm","concat","ok","filter","blog","_id","className","children","length","map","title","content","substring","onClick"],"sources":["C:/Users/Aakash/OneDrive/Documents/MyApp/frontend/src/components/YourBlogs.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./YourBlogs.css\";\r\n\r\nconst YourBlogs = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/blog/yourBlogs\", {\r\n      method: \"GET\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      credentials: \"include\",\r\n    })\r\n      .then((response) => {\r\n        if (response.status === 401) {\r\n          navigate(\"/login\");\r\n          return null;\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        if (data && data.blogs) {\r\n          setBlogs(data.blogs);\r\n        } else {\r\n          alert(\"No blogs found.\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching user blogs:\", error);\r\n        alert(\"Failed to load blogs. Please try again.\");\r\n      });\r\n  }, [navigate]);\r\n\r\n  const deleteBlog = (id) => {\r\n    if (window.confirm(\"Are you sure you want to delete this blog?\")) {\r\n      fetch(`http://localhost:5000/blog/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n      })\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            alert(\"Blog deleted successfully.\");\r\n            setBlogs(blogs.filter((blog) => blog._id !== id));\r\n          } else {\r\n            alert(\"Failed to delete the blog.\");\r\n          }\r\n        })\r\n        .catch((error) => console.error(\"Error deleting blog:\", error));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"your-blogs-container\">\r\n      <h1>Your Blogs</h1>\r\n      {blogs.length > 0 ? (\r\n        blogs.map((blog) => (\r\n          <div key={blog._id} className=\"blog-card\">\r\n            <h2>{blog.title}</h2>\r\n            <p>{blog.content.substring(0, 100)}...</p>\r\n            <button onClick={() => navigate(`/blog/${blog._id}`)}>Read More</button>\r\n            <button onClick={() => navigate(`/blog/editBlog/${blog._id}`)} className=\"update-btn\">\r\n              Edit\r\n            </button>\r\n            <button onClick={() => deleteBlog(blog._id)} className=\"delete-btn\">\r\n              Delete\r\n            </button>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <p>You have not created any blogs yet.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default YourBlogs;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAS,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACdW,KAAK,CAAC,sCAAsC,CAAE,CAC5CC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,WAAW,CAAE,SACf,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAIA,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC3BP,QAAQ,CAAC,QAAQ,CAAC,CAClB,MAAO,KAAI,CACb,CACA,MAAO,CAAAM,QAAQ,CAACE,IAAI,CAAC,CAAC,CACxB,CAAC,CAAC,CACDH,IAAI,CAAEI,IAAI,EAAK,CACd,GAAIA,IAAI,EAAIA,IAAI,CAACX,KAAK,CAAE,CACtBC,QAAQ,CAACU,IAAI,CAACX,KAAK,CAAC,CACtB,CAAC,IAAM,CACLY,KAAK,CAAC,iBAAiB,CAAC,CAC1B,CACF,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClDF,KAAK,CAAC,yCAAyC,CAAC,CAClD,CAAC,CAAC,CACN,CAAC,CAAE,CAACV,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAc,UAAU,CAAIC,EAAE,EAAK,CACzB,GAAIC,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,CAChEhB,KAAK,+BAAAiB,MAAA,CAA+BH,EAAE,EAAI,CACxCb,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,WAAW,CAAE,SACf,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAIA,QAAQ,CAACa,EAAE,CAAE,CACfT,KAAK,CAAC,4BAA4B,CAAC,CACnCX,QAAQ,CAACD,KAAK,CAACsB,MAAM,CAAEC,IAAI,EAAKA,IAAI,CAACC,GAAG,GAAKP,EAAE,CAAC,CAAC,CACnD,CAAC,IAAM,CACLL,KAAK,CAAC,4BAA4B,CAAC,CACrC,CACF,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAAC,CACnE,CACF,CAAC,CAED,mBACEhB,KAAA,QAAK2B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC9B,IAAA,OAAA8B,QAAA,CAAI,YAAU,CAAI,CAAC,CAClB1B,KAAK,CAAC2B,MAAM,CAAG,CAAC,CACf3B,KAAK,CAAC4B,GAAG,CAAEL,IAAI,eACbzB,KAAA,QAAoB2B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACvC9B,IAAA,OAAA8B,QAAA,CAAKH,IAAI,CAACM,KAAK,CAAK,CAAC,cACrB/B,KAAA,MAAA4B,QAAA,EAAIH,IAAI,CAACO,OAAO,CAACC,SAAS,CAAC,CAAC,CAAE,GAAG,CAAC,CAAC,KAAG,EAAG,CAAC,cAC1CnC,IAAA,WAAQoC,OAAO,CAAEA,CAAA,GAAM9B,QAAQ,UAAAkB,MAAA,CAAUG,IAAI,CAACC,GAAG,CAAE,CAAE,CAAAE,QAAA,CAAC,WAAS,CAAQ,CAAC,cACxE9B,IAAA,WAAQoC,OAAO,CAAEA,CAAA,GAAM9B,QAAQ,mBAAAkB,MAAA,CAAmBG,IAAI,CAACC,GAAG,CAAE,CAAE,CAACC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,MAEtF,CAAQ,CAAC,cACT9B,IAAA,WAAQoC,OAAO,CAAEA,CAAA,GAAMhB,UAAU,CAACO,IAAI,CAACC,GAAG,CAAE,CAACC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAEpE,CAAQ,CAAC,GATDH,IAAI,CAACC,GAUV,CACN,CAAC,cAEF5B,IAAA,MAAA8B,QAAA,CAAG,qCAAmC,CAAG,CAC1C,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}