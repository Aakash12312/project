{"ast":null,"code":"import _objectSpread from\"C:/Users/Aakash/OneDrive/Documents/MyApp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/* eslint-disable jsx-a11y/anchor-is-valid */import React,{useState}from\"react\";import\"./LoginRegister.css\";import{FaUser,FaLock,FaEnvelope}from\"react-icons/fa\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{handleLogin}=_ref;const navigate=useNavigate();const[action,setAction]=useState(\"\");// Tracks active form\nconst[loginData,setLoginData]=useState({Email:\"\",Password:\"\"});const[registerData,setRegisterData]=useState({Name:\"\",Email:\"\",Password:\"\"});const registerLink=()=>setAction(\"active\");const loginLink=()=>setAction(\"\");const handleLoginChange=e=>{setLoginData(_objectSpread(_objectSpread({},loginData),{},{[e.target.name]:e.target.value}));};const handleRegisterChange=e=>{setRegisterData(_objectSpread(_objectSpread({},registerData),{},{[e.target.name]:e.target.value}));};const handleLoginSubmit=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:5000/user/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(loginData),credentials:\"include\"});const result=await response.json();if(response.ok){alert(\"Login successful!\");handleLogin(result.user.name);navigate(\"/blog/allBlogs\");}else{alert(result.error||\"Login failed!\");}}catch(error){console.error(\"Error during login:\",error);alert(\"An error occurred. Please try again.\");}};const handleRegisterSubmit=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:5000/user/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(registerData)});const result=await response.json();if(response.ok){alert(\"Registration successful!\");loginLink();}else{alert(result.error||\"Registration failed!\");}}catch(error){console.error(\"Error during registration:\",error);alert(\"An error occurred. Please try again.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper \".concat(action),children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-box login\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLoginSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"Email\",placeholder:\"Email\",value:loginData.Email,onChange:handleLoginChange,required:true}),/*#__PURE__*/_jsx(FaEnvelope,{className:\"icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"Password\",placeholder:\"Password\",value:loginData.Password,onChange:handleLoginChange,required:true}),/*#__PURE__*/_jsx(FaLock,{className:\"icon\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"register-link\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:registerLink,children:\"Register\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box register\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegisterSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Registration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Name\",placeholder:\"Username\",value:registerData.Name,onChange:handleRegisterChange,required:true}),/*#__PURE__*/_jsx(FaUser,{className:\"icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"Email\",placeholder:\"Email\",value:registerData.Email,onChange:handleRegisterChange,required:true}),/*#__PURE__*/_jsx(FaEnvelope,{className:\"icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"Password\",placeholder:\"Password\",value:registerData.Password,onChange:handleRegisterChange,required:true}),/*#__PURE__*/_jsx(FaLock,{className:\"icon\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsx(\"div\",{className:\"register-link\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:loginLink,children:\"Login\"})]})})]})})]});};export default Login;","map":{"version":3,"names":["React","useState","FaUser","FaLock","FaEnvelope","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","handleLogin","navigate","action","setAction","loginData","setLoginData","Email","Password","registerData","setRegisterData","Name","registerLink","loginLink","handleLoginChange","e","_objectSpread","target","name","value","handleRegisterChange","handleLoginSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","credentials","result","json","ok","alert","user","error","console","handleRegisterSubmit","className","concat","children","onSubmit","type","placeholder","onChange","required","href","onClick"],"sources":["C:/Users/Aakash/OneDrive/Documents/MyApp/frontend/src/components/Login.js"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState } from \"react\";\r\nimport \"./LoginRegister.css\";\r\nimport { FaUser, FaLock, FaEnvelope } from \"react-icons/fa\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Login = ({ handleLogin }) => {\r\n  const navigate = useNavigate();\r\n  const [action, setAction] = useState(\"\"); // Tracks active form\r\n  const [loginData, setLoginData] = useState({ Email: \"\", Password: \"\" });\r\n  const [registerData, setRegisterData] = useState({ Name: \"\", Email: \"\", Password: \"\" });\r\n\r\n  const registerLink = () => setAction(\"active\");\r\n  const loginLink = () => setAction(\"\");\r\n\r\n  const handleLoginChange = (e) => {\r\n    setLoginData({ ...loginData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleRegisterChange = (e) => {\r\n    setRegisterData({ ...registerData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleLoginSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/user/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(loginData),\r\n        credentials: \"include\",\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (response.ok) {\r\n        alert(\"Login successful!\");\r\n        handleLogin(result.user.name);\r\n        navigate(\"/blog/allBlogs\");\r\n      } else {\r\n        alert(result.error || \"Login failed!\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during login:\", error);\r\n      alert(\"An error occurred. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleRegisterSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/user/signup\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(registerData),\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (response.ok) {\r\n        alert(\"Registration successful!\");\r\n        loginLink();\r\n      } else {\r\n        alert(result.error || \"Registration failed!\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during registration:\", error);\r\n      alert(\"An error occurred. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`wrapper ${action}`}>\r\n      <div className=\"form-box login\">\r\n        <form onSubmit={handleLoginSubmit}>\r\n          <h1>Login</h1>\r\n          <div className=\"input-box\">\r\n            <input\r\n              type=\"email\"\r\n              name=\"Email\"\r\n              placeholder=\"Email\"\r\n              value={loginData.Email}\r\n              onChange={handleLoginChange}\r\n              required\r\n            />\r\n            <FaEnvelope className=\"icon\" />\r\n          </div>\r\n          <div className=\"input-box\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"Password\"\r\n              placeholder=\"Password\"\r\n              value={loginData.Password}\r\n              onChange={handleLoginChange}\r\n              required\r\n            />\r\n            <FaLock className=\"icon\" />\r\n          </div>\r\n          <button type=\"submit\">Login</button>\r\n          <div className=\"register-link\">\r\n            <p>\r\n              Don't have an account? <a href=\"#\" onClick={registerLink}>Register</a>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"form-box register\">\r\n        <form onSubmit={handleRegisterSubmit}>\r\n          <h1>Registration</h1>\r\n          <div className=\"input-box\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"Name\"\r\n              placeholder=\"Username\"\r\n              value={registerData.Name}\r\n              onChange={handleRegisterChange}\r\n              required\r\n            />\r\n            <FaUser className=\"icon\" />\r\n          </div>\r\n          <div className=\"input-box\">\r\n            <input\r\n              type=\"email\"\r\n              name=\"Email\"\r\n              placeholder=\"Email\"\r\n              value={registerData.Email}\r\n              onChange={handleRegisterChange}\r\n              required\r\n            />\r\n            <FaEnvelope className=\"icon\" />\r\n          </div>\r\n          <div className=\"input-box\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"Password\"\r\n              placeholder=\"Password\"\r\n              value={registerData.Password}\r\n              onChange={handleRegisterChange}\r\n              required\r\n            />\r\n            <FaLock className=\"icon\" />\r\n          </div>\r\n          <button type=\"submit\">Register</button>\r\n          <div className=\"register-link\">\r\n            <p>\r\n              Already have an account? <a href=\"#\" onClick={loginLink}>Login</a>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}