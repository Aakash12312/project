{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./SearchUser.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchUser=()=>{const[searchQuery,setSearchQuery]=useState(\"\");const[searchResult,setSearchResult]=useState(null);const[error,setError]=useState(null);const navigate=useNavigate();const handleSearch=e=>{e.preventDefault();if(!searchQuery.trim()){alert(\"Please enter a name to search.\");return;}fetch(\"http://localhost:5000/user/search?Name=\".concat(searchQuery),{method:\"GET\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"}).then(response=>{if(response.status===401){navigate(\"/login\");return null;}return response.json();}).then(data=>{if(data.user){setSearchResult(data.user);setError(null);}else{setError(\"User not found.\");setSearchResult(null);}}).catch(()=>setError(\"Failed to fetch user. Please try again.\"));};const handleViewBlogs=userId=>{navigate(\"/user/\".concat(userId,\"/blogs\"));};return/*#__PURE__*/_jsxs(\"div\",{className:\"search-user-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Search for a User\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),placeholder:\"Enter name\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),searchResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"User Found:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",searchResult.Name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",searchResult.Email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",searchResult._id]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewBlogs(searchResult._id),children:\"View Blogs\"})]})]});};export default SearchUser;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","SearchUser","searchQuery","setSearchQuery","searchResult","setSearchResult","error","setError","navigate","handleSearch","e","preventDefault","trim","alert","fetch","concat","method","headers","credentials","then","response","status","json","data","user","catch","handleViewBlogs","userId","className","children","onSubmit","type","value","onChange","target","placeholder","Name","Email","_id","onClick"],"sources":["C:/Users/Aakash/OneDrive/Documents/MyApp/frontend/src/components/SearchUser.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./SearchUser.css\";\r\n\r\nconst SearchUser = () => {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [searchResult, setSearchResult] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!searchQuery.trim()) {\r\n      alert(\"Please enter a name to search.\");\r\n      return;\r\n    }\r\n\r\n    fetch(`http://localhost:5000/user/search?Name=${searchQuery}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n    })\r\n      .then((response) => {\r\n        if (response.status === 401) {\r\n          navigate(\"/login\");\r\n          return null;\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.user) {\r\n          setSearchResult(data.user);\r\n          setError(null);\r\n        } else {\r\n          setError(\"User not found.\");\r\n          setSearchResult(null);\r\n        }\r\n      })\r\n      .catch(() => setError(\"Failed to fetch user. Please try again.\"));\r\n  };\r\n\r\n  const handleViewBlogs = (userId) => {\r\n    navigate(`/user/${userId}/blogs`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-user-container\">\r\n      <h2>Search for a User</h2>\r\n      <form onSubmit={handleSearch}>\r\n        <input\r\n          type=\"text\"\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          placeholder=\"Enter name\"\r\n        />\r\n        <button type=\"submit\">Search</button>\r\n      </form>\r\n\r\n      {error && <p className=\"error\">{error}</p>}\r\n\r\n      {searchResult && (\r\n        <div className=\"user-info\">\r\n          <h3>User Found:</h3>\r\n          <p><strong>Name:</strong> {searchResult.Name}</p>\r\n          <p><strong>Email:</strong> {searchResult.Email}</p>\r\n          <p><strong>ID:</strong> {searchResult._id}</p>\r\n          <button onClick={() => handleViewBlogs(searchResult._id)}>\r\n            View Blogs\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchUser;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}